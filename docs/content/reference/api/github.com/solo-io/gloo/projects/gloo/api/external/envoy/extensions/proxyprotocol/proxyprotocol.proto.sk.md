
---
title: "proxyprotocol.proto"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `envoy.config.listener.proxy_protocol.v3` 
#### Types:


- [CustomProxyProtocol](#customproxyprotocol)
- [KeyValuePair](#keyvaluepair)
- [Rule](#rule)
  



##### Source File: [github.com/solo-io/gloo/projects/gloo/api/external/envoy/extensions/proxyprotocol/proxyprotocol.proto](https://github.com/solo-io/gloo/blob/master/projects/gloo/api/external/envoy/extensions/proxyprotocol/proxyprotocol.proto)





---
### CustomProxyProtocol



```yaml
"rules": []envoy.config.listener.proxy_protocol.v3.CustomProxyProtocol.Rule
"allowRequestsWithoutProxyProtocol": bool

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `rules` | [[]envoy.config.listener.proxy_protocol.v3.CustomProxyProtocol.Rule](../proxyprotocol.proto.sk/#rule) | The list of rules to apply to requests. |
| `allowRequestsWithoutProxyProtocol` | `bool` | Allow requests through that don't use proxy protocol. Defaults to false. .. attention:: This breaks conformance with the specification. Only enable if ALL traffic to the listener comes from a trusted source. For more information on the security implications of this feature, see https://www.haproxy.org/download/2.1/doc/proxy-protocol.txt. |




---
### KeyValuePair



```yaml
"metadataNamespace": string
"key": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `metadataNamespace` | `string` | The namespace â€” if this is empty, the filter's namespace will be used. |
| `key` | `string` | The key to use within the namespace. |




---
### Rule

 
A Rule defines what metadata to apply when a header is present or missing.

```yaml
"tlvType": int
"onTlvPresent": .envoy.config.listener.proxy_protocol.v3.CustomProxyProtocol.KeyValuePair

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `tlvType` | `int` | The type that triggers the rule - required TLV type is defined as uint8_t in proxy protocol. See `the spec <https://www.haproxy.org/download/2.1/doc/proxy-protocol.txt>`_ for details. |
| `onTlvPresent` | [.envoy.config.listener.proxy_protocol.v3.CustomProxyProtocol.KeyValuePair](../proxyprotocol.proto.sk/#keyvaluepair) | If the TLV type is present, apply this metadata KeyValuePair. |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
